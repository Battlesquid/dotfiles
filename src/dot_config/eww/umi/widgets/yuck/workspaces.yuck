(defwidget workspaces[]
  (box
    :class "workspaces"
    :valign "center"
    :spacing 5
    (for wk in workspace-list
      (eventbox :class "${wk.state}" :onclick {wk.command} :cursor "pointer"
        (label :class "wk-btn" :text {wk.icon})))
  ))

(deflisten workspace-list :initial "[]" "../../scripts/workspaces")